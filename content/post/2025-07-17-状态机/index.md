---
title: 状态机（FSM）
description: 从状态机基本概念，到spring状态机，分布式事务状态和如何利用状态机减少if else
slug: FSM
date: 2025-07-17 00:00:00+0000
image: 1.png
categories:
    - java
    - 精选
tags: 
    - 设计模式
    - spring
    - 随笔
---







# 状态机



## 状态机

状态机是一种数学模型，用于描述系统在有限状态之间的转换和行为。





- 主要组成部分：



1. 状态：系统在某一时刻的条件或配置。
2. 事件：触发状态变化的条件或输入。
3. 动作：事件发生后执行的操作。执行动作后，状态可能保持不变或变成新的状态。
4. 转换：从一个状态到另一个状态的过程，基于特定的事件和条件触发。









- 两种不同类型的状态机

1. Moore机：输出仅依赖于当前状态，不受输入影响。（仅有当前值直接给出结果）
2. Mealy机：输出依赖于当前状态和输入状态，适合需要实时响应的系统，如某些硬件电路。（根据流水and原流水字段为空更新，查看能否更新成功，即从未上锁状态达到上锁状态）





## Spring中的状态机



